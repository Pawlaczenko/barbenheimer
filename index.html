<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="./assets/favicon.svg">
    <title>Barbenheimer Excitement Meter</title>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

    <meta property='og:title' content='Barbenheimer Excitement Meter 21-07-2023'/>
    <meta property='og:image' id="twitter-image" content='https://i.ibb.co/7GPd84T/Screenshot-1143.png'/>
    <meta property='og:description' content='How excited are you for Barbenheimer?'/>
    <meta property='og:url' content='https://pawlaczenko.github.io/barbenheimer/'/>
    <meta property='og:image:width' content='1200' />
    <meta property='og:image:height' content='627' />
    <meta property="og:type" content='website'/>
    <meta property="fb:app_id" content="966242223397117" />
</head>
<body>
    <main id="capture" class="container">
        <div class="logo logo-b"><img src="./assets/label.png" class="label" /><img src="./assets/logo-b.png" /></div>
        <div class="images">
            <div class="score-containter">
                <div class="score" id="barbie-score"></div>
                <div class="title">
                    <p class="question">How excited are you for Barbenheimer?</p>
                    <p class="timer">00 : 00 : 00 : 00</p>
                </div>
                <div class="score" id="oppenheimer-score"></div>
            </div>
            <div class="images-pan">
                <input type="range" id="slider" min="0" max="100" value="50">
                <figure id="oppenheimer" class="image"></figure>
                <figure id="barbie" class="image"></figure>
            </div>
        </div>
        <div class="logo logo-o"><img src="./assets/label.png" class="label" /><img src="./assets/logo-o.png" /></div>
    </main>
    <figure id="twitter-share-button">
        <img src="./assets/twitter.png" alt="twitter" />
    </figure>
    <script src="./html2canvas.js"></script>
    <script src="./index.js"></script>
    <script>
        document.getElementById('twitter-share-button').addEventListener('click', function() {
            const value = document.getElementById('slider').value;
            const tweetMessage = `Barbie - ${value}%, Oppenheimer - ${100-value}%`;
            const tweetUrl = window.location.href;

            html2canvas(document.querySelector("#capture")).then(canvas => {
                document.getElementById('twitter-image').setAttribute('content', canvas.toDataURL('image/png'));
                const twitterShareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetMessage)}&url=${encodeURIComponent(tweetUrl)}`;
                window.open(twitterShareUrl, '_blank', 'width=550,height=420');
            });
        });
      </script>
</body>
</html>