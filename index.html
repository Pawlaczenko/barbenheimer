<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="./assets/favicon.svg">
    <title>Barbenheimer Excitement Meter</title>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Barbenheimer Excitement Meter">
    <meta name="twitter:description" content="How excited are you for Barbenheimer?">
    <meta name="twitter:image" id="twitter-image" content="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT2MVvE9X00ONfS9RrxtfriDs7uXtrhPXcQ_wK6BexNrg&s">
</head>
<body>
    <main class="container">
        <div class="logo logo-b"><img src="./assets/label.png" class="label" /><img src="./assets/logo-b.png" /></div>
        <div class="images">
            <div class="score-containter">
                <div class="score" id="barbie-score"></div>
                <div class="title">
                    <p class="question">How excited are you for Barbenheimer?</p>
                    <p class="timer">00 : 00 : 00 : 00</p>
                </div>
                <div class="score" id="oppenheimer-score"></div>
            </div>
            <div class="images-pan">
                <input type="range" id="slider" min="0" max="100" value="50">
                <figure id="oppenheimer" class="image"></figure>
                <figure id="barbie" class="image"></figure>
            </div>
        </div>
        <div class="logo logo-o"><img src="./assets/label.png" class="label" /><img src="./assets/logo-o.png" /></div>
    </main>
    <button id="twitter-share-button">Share on Twitter</button>
    <script src="./index.js"></script>
    <script>


var canvas = document.createElement('canvas');
    canvas.width = 400; // Set the desired width of the canvas
    canvas.height = 300; // Set the desired height of the canvas
    
    // Get the 2D drawing context of the canvas
    var ctx = canvas.getContext('2d');
    
    // Draw something on the canvas
    ctx.fillStyle = 'red';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    // Convert the canvas to a data URL
    var imageURL = canvas.toDataURL('image/png');
    
    // Set the 'twitter:image' meta tag dynamically
    document.getElementById('twitter-image').setAttribute('content', imageURL);

        document.getElementById('twitter-share-button').addEventListener('click', function() {
            const value = document.getElementById('slider').value;
            const tweetMessage = `Barbie - ${value}%, Oppenheimer - ${100-value}%`;
            const tweetUrl = window.location.href;
      
            const twitterShareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetMessage)}&url=${encodeURIComponent(tweetUrl)}`;
            window.open(twitterShareUrl, '_blank', 'width=550,height=420');
        });
      </script>
</body>
</html>